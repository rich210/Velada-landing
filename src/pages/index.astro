---
import boxers from "../boxers.json";
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>La velada de a침o - proyecto de ibai</title>
  </head>
  <body>
    <header class="relative">
      <div
        class="md:absolute lg:left-1/2 lg:-translate-x-1/2 flex flex-col gap-1 justify-center items-center mt-4 lg:mt-0 lg:top-8 z-10"
      >
        <img
          class="w-32 lg:w-64 h-auto"
          src="/logo.webp"
          alt="Logo de la velada del a침o"
        />
        <h1
          class="font-boxing text-3xl lg:text-5xl text-center text-white font-bold"
        >
          <span
            class="bg-clip-text text-transparent bg-gradient-to-b from-white via-gray-300 to-white inline-block leading-relaxed"
            >la velada del a침o</span
          >
          <span class="text-yellow-300">III</span>
        </h1>
      </div>
    </header>
    <main class="relative">
      <section
        id="boxers"
        class="{` flex justify-between relative [&>div>img]:absolute [&>div>img]:bottom-0 [&>div>img]:w-auto [&>div>img]:animate-ease-in-out [&>div>img]:animate-duration-700 h-[40vh] md:h-[65vh] lg:h-screen pt-4 lg:pt-24 border-b border-white/10 overflow-hidden `}"
      >
        <div
          class="bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-[#131824] via-zinc-900 to-zinc-950 h-full w-full inset-0 absolute"
        >
        </div>
        <div class="absolute inset-0 flex gap-x-3 left-1/2 -translate-x-1/2 justify-center opacity-10">
          <div class="w-2 blur-sm h-ful bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-purple-100 purple-300 to-purple-800"></div>
          <div class="w-2 blur-sm h-ful bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-purple-100 purple-300 to-purple-800"></div>
          <div class="w-2 blur-sm h-ful bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-purple-100 purple-300 to-purple-800"></div>
        </div>
        <div class="relative w-full">
          <img
            class="left-0 h-full z-50"
            srcset="/boxers/coscu-mobile.webp 767w, /boxers/coscu.webp"
            sizes="(max-width: 767px) 767px, 100vw"
            alt="Coscu"
            fetchpriority="high"
            style={boxers.coscu.clip}
          />
          <img
            class="left-[5%] h-[80%] z-40 animate-fade-right"
            srcset="/boxers/mayichi-mobile.webp 767w, /boxers/mayichi.webp"
            sizes="(max-width: 767px) 767px, 100vw"
            alt="Mayichi"
            style={boxers.mayichi.clip}
          />
          <img
            class="left-[15%] h-[75%] z-30 animate-delay-300 animate-fade-right"
            srcset="/boxers/viruzz-mobile.webp 767w, /boxers/viruzz.webp"
            sizes="(max-width: 767px) 767px, 100vw"
            alt="Viruzz"
            style={boxers.viruzz.clip}
          />
          <img
            class="left-[30%] h-[70%] z-20 animate-delay-500 animate-fade-right [clip-path:polygon(64%_27%,_83%_30%,_85%_72%,_100%_100%,_0_100%,_0_0,_75%_0)];"
            srcset="/boxers/fernanfloo-mobile.webp 767w, /boxers/fernanfloo.webp"
            sizes="(max-width: 767px) 767px, 100vw"
            alt="Fernanfloo"
            style={boxers.fernanfloo.clip}
          />
          <img
            class="left-[45%] h-[68%] z-10 animate-delay-700 animate-fade-right"
            srcset="/boxers/la-rivers-mobile.webp 767w, /boxers/la-rivers.webp"
            sizes="(max-width: 767px) 767px, 100vw"
            alt="La Rivers"
            style={boxers["la-rivers"].clip}
          />
          <img
            class="left-[50%] h-[63%] z-0 animate-delay-1000 animate-fade-right"
            srcset="/boxers/papigavi-mobile.webp 767w, /boxers/papigavi.webp"
            sizes="(max-width: 767px) 767px, 100vw"
            alt="Papigavi"
            fetchpriority="low"
            style={boxers.papigavi.clip}
          />
        </div>

        <div class="relative w-full">
          <img
            class="right-0 h-full z-50"
            srcset="/boxers/german-mobile.webp 767w, /boxers/german.webp"
            sizes="(max-width: 767px) 767px, 100vw"
            alt="Germ치n"
            fetchpriority="high"
            style={boxers.german.clip}
          />
          <img
            class="right-[5%] h-[80%] z-40 animate-fade-left"
            srcset="/boxers/amouranth-mobile.webp 767w, /boxers/amouranth.webp"
            sizes="(max-width: 767px) 767px, 100vw"
            alt="Amouranth"
            style={boxers.amouranth.clip}
          />
          <img
            class="right-[15%] h-[75%] z-30 animate-fade-left animate-delay-300"
            srcset="/boxers/shelao-mobile.webp 767w, /boxers/shelao.webp"
            sizes="(max-width: 767px) 767px, 100vw"
            alt="Shelao"
            style={boxers.shelao.clip}
          />
          <img
            class="right-[30%] h-[70%] z-20 animate-fade-left animate-delay-500"
            srcset="/boxers/luzu-mobile.webp 767w, /boxers/luzu.webp"
            sizes="(max-width: 767px) 767px, 100vw"
            alt="Luzu"
            style={boxers.luzu.clip}
          />
          <img
            class="right-[42%] h-[66%] z-10 animate-fade-left animate-delay-700"
            srcset="/boxers/rivers-mobile.webp 767w, /boxers/rivers.webp"
            sizes="(max-width: 767px) 767px, 100vw"
            alt="Rivers"
            style={boxers.rivers.clip}
          />
          <img
            class="right-[50%] h-[63%] z-0 animate-fade-left animate-delay-1000"
            src="/boxers/ampeter-mobile.webp"
            srcset="/boxers/ampeter-mobile.webp 767w, /boxers/ampeter.webp"
            sizes="(max-width: 767px) 767px, 100vw"
            alt="Ampeter"
            fetchpriority="low"
            style={boxers.ampeter.clip}
          />
        </div>
        
      </section>
	  <div
          id="info"
          class="block lg:absolute lg:bottom-48 z-50 mx-auto lg:left-1/2 lg:-translate-x-1/2"
        >
          <div class="flex flex-col">
            <div class="px-5 pt-4 pb-2 bg-white text-black text-center">
              <h2 class="font-boxing text-7xl">1 de Julio</h2>
            </div>
            <div class="px-5 pt-4 pb-2 bg-black text-white text-center">
              <a
                class="hover:contrast-150 hover:scale-105 transition inline-block font-boxing text-[46px]"
                href="https://twitch.tx/ibai"
                target="_blank"
                rel="noopener noreferrer"
              >
                <span class="text-white"
                  >twitch.tv/
                  <span class="text-yellow-300">ibai</span>
                </span>
              </a>
            </div>
            <div class="px-5 pt-4 pb-2 bg-sky-600 text-white text-center">
              <a
                class="hover:contrast-150 hover:scale-105 transition font-boxing text-4xl inline-block text-sky-800"
                href="https://twitch.tx/ibai"
                target="_blank"
                rel="noopener noreferrer">Comprar entradas</a
              >
            </div>
          </div>
        </div>
        <div
          id="combat"
          class="absolute bottom-48 z-50 mx-auto left-1/2 -translate-x-1/2 flex justify-center flex-col gap-y-0 invisible"
        >
          <div class="px-5 pt-4 pb-2 bg-black text-white text-center">
            <h3 class="font-boxing uppercase text-7xl">MAYICHI</h3>
          </div>

          <img
            src="/street-fighter-vs-logo.webp"
            alt=""
            width="64"
            height="64"
            class="w-16 mx-auto absolute left-1/2 -translate-x-1/2"
          />

          <div class="px-5 pt-4 pb-2 bg-white text-black text-center">
            <h3 class="font-boxing uppercase text-7xl">AMOURANTH</h3>
          </div>
        </div>
    </main>
  </body>
  <footer></footer>
</html>

<style is:global>
  body {
    background: #131313;
  }

  @font-face {
    font-family: "Boxing";
    src: url("/fonts/boxing.woff2");
    font-weight: bold;
  }
  @font-face {
    font-family: "Boxing Striped";
    src: url("/fonts/boxing-striped.woff2");
    font-weight: bold;
  }
</style>
<script>
  import { imageMetadata } from "astro/dist/assets";

  const $boxers = document.querySelector("#boxers");
  const $boxersImages = $boxers.querySelectorAll("img");
  const $info = document.querySelector("#info") as HTMLElement;
  const $combat = document.querySelector("#combat") as HTMLElement;

  $boxersImages.forEach(($img) => {
    $img.addEventListener("mouseleave", () => {
      $boxersImages.forEach(($img) => {
        $img.setAttribute("style", "transition: all .3s ease-in-out");
      });

      $info.style.opacity = "1";
      $info.style.transition = "all .3s ease-in-out";

      $combat.style.opacity = "0";
      $combat.style.transition = "all .3s ease-in-out";
    });
    $img.addEventListener("mouseover", () => {
      console.log("cosas");
      const sectioImages = $img.parentNode.children;
      const position = Array.from(sectioImages).indexOf($img);
      //get image forthe left side and the right side
      const [leftBoxer, rightBoxer] = [
        $boxersImages[position],
        $boxersImages[position + $boxersImages.length / 2]
      ];

      //hide boxers not selected
      $boxersImages.forEach(($img) => {
        $img.style.filter = "blur(2px) grayscale(.8)";
        $img.style.transition = "all .3s ease-in-out";
      });

      // hide la informacion
      $info.style.opacity = "0";
      $info.style.transition = "all .3s ease-in-out";

      $combat.style.opacity = "1";
      $combat.style.visibility = "visible";
      $combat.style.transition = "all .3s ease-in-out";
	  
      const [firstBoxerName, secondBoxerName] = $combat.querySelectorAll("h3");
      firstBoxerName.innerText = leftBoxer.alt;
      secondBoxerName.innerText = rightBoxer.alt;

      leftBoxer.style.scale = "1.2";
      leftBoxer.style.filter = "contrast(1.1)";
      leftBoxer.style.transition = "all .3s ease-in-out";

      rightBoxer.style.scale = "1.2";
      rightBoxer.style.filter = "contrast(1.1)";
      rightBoxer.style.transition = "all .3s ease-in-out";
    });
  });
</script>
